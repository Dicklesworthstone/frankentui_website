{"id":"bd-11i","title":"Epic: React FrankenTerminal Widget Component","description":"GOAL: Create a React component that wraps the FrankenTUI WASM terminal so it can be embedded as a widget inside normal React pages — not full-screen, but as a bounded, resizable element alongside other content. This is fundamentally different from the /web full-page integration (Epic bd-ty6) which serves the raw standalone HTML. The widget version must: (1) Be a proper 'use client' React component with props-based configuration. (2) Handle WASM module lifecycle (load, init, destroy) within React mount/unmount. (3) Forward DOM events (keyboard, mouse, wheel, clipboard, focus) through the WASM bridge. (4) Support responsive sizing (fill parent container, or fixed dimensions). (5) Provide loading states and error boundaries compatible with the site's design system. USE CASES: (a) Embed a live terminal preview on the homepage or showcase page. (b) Show specific demo screens inline (e.g. ?screen=3 for the dashboard). (c) Allow visitors to interact with FrankenTUI without leaving the page context. TECHNICAL CHALLENGES: (a) WASM module singletons — can we have multiple instances? The FrankenTermWeb and ShowcaseRunner seem to support single-instance per canvas. (b) Keyboard capture — when the widget has focus, it captures all keys (preventing page scroll, browser shortcuts). Need a focus/blur boundary. (c) WebGPU context per canvas — each widget needs its own GPU context. (d) Memory management — WASM instances are not garbage collected; explicit destroy() needed on unmount. (e) Bundle size — the WASM binaries (3.4MB) should be lazy-loaded only when the widget mounts, not in the main bundle. DEPENDENCY: The WASM assets must already be in public/web/ (from Epic bd-ty6). The widget loads them from the same paths.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-11T03:00:04.593495732Z","created_by":"ubuntu","updated_at":"2026-02-11T03:00:04.593495732Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-11i.1","title":"Design FrankenTerminal component API and props interface","description":"Design the public API for the FrankenTerminal React component before implementing it. This is a design-only task — produce a TypeScript interface definition and usage examples, not working code. PROPOSED PROPS INTERFACE: interface FrankenTerminalProps { // Sizing width?: number | string; // CSS width (default: '100%') height?: number | string; // CSS height (default: '400px') className?: string; // Additional CSS classes // Terminal config initialCols?: number; // Default: auto-fit to container initialRows?: number; // Default: auto-fit to container cellWidth?: number; // Default: 8 cellHeight?: number; // Default: 16 initialScreen?: number; // Which demo screen to start on (1-indexed, default: 1) zoom?: number; // Initial zoom level (default: 1.0) // Behavior autoFocus?: boolean; // Focus canvas on mount (default: false) captureKeys?: boolean; // Capture keyboard when focused (default: true) showStatus?: boolean; // Show the cols×rows status bar (default: true) // Callbacks onReady?: () => void; // Fired when WASM loads and first frame renders onError?: (error: Error) => void; // Fired on load or runtime errors onResize?: (cols: number, rows: number) => void; // Fired on terminal resize // Loading/Error UI loadingComponent?: React.ReactNode; // Custom loading UI (default: built-in progress bar) errorComponent?: React.ReactNode; // Custom error UI (default: built-in error message) } USAGE EXAMPLES: (1) Simple embed: <FrankenTerminal height={500} initialScreen={3} /> (2) Full-width hero: <FrankenTerminal width='100%' height='60vh' autoFocus /> (3) Thumbnail preview: <FrankenTerminal width={400} height={300} captureKeys={false} showStatus={false} /> KEY DESIGN DECISIONS TO DOCUMENT: (a) Should the component accept a ref for imperative API (navigate to screen, send input, etc.)? Probably yes via useImperativeHandle. (b) Should text assets (shakespeare, sqlite) be optional? They're 14MB — maybe only load them if the user navigates to screens that need them. (c) How to handle the font? The Pragmasevka NF font needs to load before rendering. Use document.fonts API. (d) Named export or default export? Recommend named: export function FrankenTerminal.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:00:23.099349919Z","created_by":"ubuntu","updated_at":"2026-02-11T03:04:52.005171773Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.1","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:00:23.099349919Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.2","title":"Create WASM loader utility for React (lazy load + singleton management)","description":"Create lib/wasm-loader.ts — a utility module that handles loading the WASM terminal modules lazily and managing their lifecycle. This is separated from the React component to keep concerns clean and allow reuse. RESPONSIBILITIES: (1) Lazy-load the FrankenTerm.js and ftui_showcase_wasm.js ES modules from /web/pkg/. (2) Download and compile the .wasm binaries (FrankenTerm_bg.wasm, ftui_showcase_wasm_bg.wasm). (3) Initialize both modules (call their default() init functions). (4) Cache the loaded modules so multiple FrankenTerminal widgets don't re-download WASM. (5) Provide a clean API: loadWasmModules(): Promise<{ FrankenTermWeb, ShowcaseRunner }>. (6) Handle errors gracefully (network failures, WASM compilation errors, WebGPU unavailable). (7) Optionally preload the font (Pragmasevka NF from /web/fonts/). (8) Optionally load large text assets (shakespeare, sqlite) on demand. PATTERN: Use a module-level promise cache. First call triggers the download; subsequent calls return the cached promise. Example: let cached: Promise<WasmModules> | null = null; export function loadWasmModules() { if (\\!cached) cached = doLoad(); return cached; }. IMPORTANT NUANCE: The WASM JS glue modules (FrankenTerm.js, ftui_showcase_wasm.js) use ES module dynamic import(). In Next.js with Turbopack, dynamic import of files in public/ requires special handling. The files are raw JS (not TypeScript, not part of the build). We may need to use fetch() + eval() or create a <script> tag, OR configure Next.js to pass them through. Test this carefully. FALLBACK: If ES module import fails, try: const script = document.createElement('script'); script.type = 'module'; ... or fetch the JS and use new Function(). The WASM JS glue expects to be an ES module (it uses import.meta.url for .wasm resolution).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:00:39.928414970Z","created_by":"ubuntu","updated_at":"2026-02-11T03:04:57.130549779Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.2","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:00:39.928414970Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.2","depends_on_id":"bd-11i.1","type":"blocks","created_at":"2026-02-11T03:00:39.928414970Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.2","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T03:04:57.130511217Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.3","title":"Implement FrankenTerminal React component (core rendering + lifecycle)","description":"Create components/frankentui-terminal.tsx — the core 'use client' React component that wraps the WASM terminal as an embeddable widget. FILE: components/frankentui-terminal.tsx (single file, following the project convention of keeping components in the components/ directory). IMPLEMENTATION PLAN: (1) MOUNT PHASE: useEffect on mount → call loadWasmModules() → create FrankenTermWeb instance → call term.init(canvasRef, config) → create ShowcaseRunner → apply initial patches → term.render() → start rAF loop. (2) UNMOUNT PHASE: Stop rAF loop → runner.destroy() → cleanup event listeners → release GPU context. Use useRef for rAF ID and AbortController for cleanup. (3) CANVAS REF: Use useRef<HTMLCanvasElement> to get the canvas DOM element. The canvas must be in the DOM before term.init() is called. (4) CONTAINER SIZING: Wrap the canvas in a div with the user-specified width/height. Use ResizeObserver (via useEffect) to detect container size changes and call term.fitToContainer() + runner.resize(). (5) LOADING STATE: Show loading UI (progress bar or custom component) while WASM loads. Track loading state with useState. (6) ERROR STATE: Catch errors from WASM load/init, store in state, render error UI. (7) rAF LOOP: Port the frame() function from the vanilla JS. Each frame: runner.advanceTime(dt) → drain inputs → runner.step() → apply patches → term.render(). Use useRef for the loop state (lastTs, totalFrames, running). (8) STRICT MODE COMPATIBILITY: React 18/19 strict mode double-mounts components in dev. Handle this: either use a ref flag to prevent double-init, or properly cleanup and re-init on the second mount. CRITICAL: The component must be marked 'use client' at the top. It uses browser APIs (canvas, WebAssembly, ResizeObserver, requestAnimationFrame) that are not available in SSR. Do NOT use next/dynamic — direct import of 'use client' components works in Next.js 16.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T03:00:56.426823787Z","created_by":"ubuntu","updated_at":"2026-02-11T03:00:56.426823787Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.3","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:00:56.426823787Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.3","depends_on_id":"bd-11i.2","type":"blocks","created_at":"2026-02-11T03:00:56.426823787Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.4","title":"Implement input forwarding system for FrankenTerminal widget","description":"Add keyboard, mouse, wheel, clipboard, and focus event forwarding to the FrankenTerminal React component. The vanilla JS demo uses window-level event listeners that capture ALL input. The React widget version must be scoped to only capture input when the widget has focus, to avoid hijacking the page. EVENTS TO FORWARD (from the vanilla JS source): (1) KEYBOARD: keydown/keyup → domKeyToInput() → term.input(). Must handle: key, code, modifiers (shift/alt/ctrl/meta), repeat flag. Must EXCLUDE IME composition events (isComposing check). Must handle Ctrl+/- for zoom (keep this or make it optional via props). (2) MOUSE: mousedown/mouseup/mousemove on canvas → domMouseToInput(). Maps pixel coordinates to terminal cell coordinates using canvas bounds and current cols/rows. (3) WHEEL: wheel on canvas → domWheelToInput(). Needs passive: false to prevent page scroll when scrolling inside the terminal. (4) CLIPBOARD: paste event → { kind: 'paste', data: text }. (5) FOCUS: canvas focus/blur → { kind: 'focus', focused: bool }. Also window blur/focus and document visibility change. (6) IME: compositionstart/update/end for international input. SCOPING STRATEGY: (a) Keyboard events: add listeners to the canvas element (not window), so they only fire when canvas is focused. But some keys (Tab, arrow keys) need the canvas to have tabindex and explicit focus management. (b) Mouse events: already scoped to canvas naturally. (c) Wheel: scope to canvas. (d) Paste: scope to canvas or handle via onPaste React prop. (e) Focus: track canvas focus state, not window focus. REACT INTEGRATION: Use useEffect to add/remove DOM event listeners on the canvas ref. Use AbortController for clean listener removal. Alternatively, use React's synthetic event system where possible (onKeyDown, onMouseDown, etc.), but some events (wheel passive, composition) need native listeners.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T03:01:12.701674361Z","created_by":"ubuntu","updated_at":"2026-02-11T03:01:12.701674361Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.4","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:01:12.701674361Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.4","depends_on_id":"bd-11i.3","type":"blocks","created_at":"2026-02-11T03:01:12.701674361Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.5","title":"Implement responsive container sizing for FrankenTerminal widget","description":"Make the FrankenTerminal widget properly resize when its container changes dimensions. The full-page demo uses window resize + ResizeObserver on the container div. The widget version needs more nuanced behavior because it's embedded in a layout that may reflow. REQUIREMENTS: (1) INITIAL SIZING: On mount, measure the container div's clientWidth/clientHeight. Call term.fitToContainer(w, h, dpr) to compute optimal cols/rows for the available space. (2) RESIZE OBSERVATION: Attach a ResizeObserver to the container div. On resize, re-fit and resize the runner. Debounce slightly (50ms) to avoid excessive recomputation during drag-resize. (3) DPR CHANGES: Handle device pixel ratio changes (monitor switching, zoom). Use visualViewport API or matchMedia fallback. (4) ASPECT RATIO: The terminal has a natural aspect ratio based on cols × cellWidth / rows × cellHeight. When the container doesn't match, the canvas should letterbox (black bars) or crop, not stretch. The current fitToContainer() likely handles this, but verify. (5) MINIMUM SIZE: Below some threshold (e.g., 40 cols × 12 rows), the terminal becomes unusable. Show a 'too small' message instead of a broken terminal. (6) CSS CONTAINMENT: Add 'contain: strict' or 'contain: layout size' to the container div for performance isolation — prevents the widget's layout from affecting the rest of the page. (7) PIXEL-PERFECT CANVAS: The canvas element's width/height attributes must be set to physical pixel dimensions (clientWidth × dpr), while CSS width/height match the container. This is how the vanilla demo achieves crisp text.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:01:26.042146215Z","created_by":"ubuntu","updated_at":"2026-02-11T03:01:26.042146215Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.5","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:01:26.042146215Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.5","depends_on_id":"bd-11i.3","type":"blocks","created_at":"2026-02-11T03:01:26.042146215Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.6","title":"Create widget demo: embed FrankenTerminal on showcase or homepage","description":"Integrate the FrankenTerminal React widget component into an existing page on the frankentui.com website, demonstrating it works as an embedded element alongside other content. CANDIDATE PAGES: (a) HOMEPAGE (app/page.tsx) — Replace or augment the existing video demo section. Currently the hero area shows a pre-recorded video (Rio CRT). An interactive WASM terminal would be far more impressive, letting visitors actually interact with FrankenTUI. But: the 3.4MB WASM load might slow initial page load. Consider: lazy-load the widget only when it scrolls into view (IntersectionObserver trigger). (b) SHOWCASE PAGE (app/showcase/page.tsx) — Add an interactive demo section alongside the existing screenshots and videos. This is a natural fit: 'Don't just look at screenshots — try it live.' (c) ARCHITECTURE PAGE (app/architecture/page.tsx) — Embed a small terminal showing specific screens (e.g., the dashboard or diff view) to illustrate architectural concepts with live examples. RECOMMENDATION: Start with the SHOWCASE page. Add a new section (using SectionShell with icon='terminal' or similar) titled 'Interactive Demo' that contains a FrankenTerminal widget at a reasonable size (e.g., 100% width, 500px height). Include a brief description explaining what the user is seeing and how to interact (Tab to switch screens, number keys for direct navigation). IMPORTANT: The widget must be lazy-loaded. Do NOT import it at the top of the page — use dynamic import or IntersectionObserver to only load the 3.4MB WASM when the section becomes visible. This protects Core Web Vitals (LCP, FID) for users who don't scroll to the demo section.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:01:42.097733925Z","created_by":"ubuntu","updated_at":"2026-02-11T03:01:42.097733925Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.6","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:01:42.097733925Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.6","depends_on_id":"bd-11i.4","type":"blocks","created_at":"2026-02-11T03:01:42.097733925Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.6","depends_on_id":"bd-11i.5","type":"blocks","created_at":"2026-02-11T03:01:42.097733925Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.7","title":"Unit tests for WASM loader utility (lib/wasm-loader.ts)","description":"Create tests/wasm-loader.test.ts — unit tests for the WASM module loading utility. These tests verify the loader's logic WITHOUT requiring actual WebGPU/WASM execution (mock the heavy parts). WHAT TO TEST: (1) SINGLETON CACHING: Call loadWasmModules() twice. Verify the second call returns the cached promise, not a new load. (2) ERROR HANDLING: Mock a network failure for WASM fetch. Verify the error is caught and propagated to the caller. Verify the cache is NOT poisoned (next call retries). (3) WEBGPU DETECTION: Mock navigator.gpu as undefined. Verify checkWebGPUSupport() returns false with a meaningful message. (4) FONT LOADING: Mock document.fonts.load(). Verify font preloading is attempted and failures are non-fatal. (5) PROGRESS TRACKING: If the loader supports progress callbacks, verify they fire with increasing percentages. (6) MODULE TYPES: Verify the loaded modules expose expected classes (FrankenTermWeb, ShowcaseRunner). (7) CONCURRENT LOADING: Call loadWasmModules() multiple times concurrently. Verify only one actual load occurs. MOCKING STRATEGY: Use globalThis overrides to mock fetch(), WebAssembly.compile(), dynamic import(). The tests should be fast (<1s total) since they don't load real WASM. LOGGING: Log each test step with timing. On mock setup, log what's being mocked and why. On assertion failure, log expected vs actual values.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:06:07.493504618Z","created_by":"ubuntu","updated_at":"2026-02-11T03:06:07.493504618Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.7","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:06:07.493504618Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.7","depends_on_id":"bd-11i.2","type":"blocks","created_at":"2026-02-11T03:06:07.493504618Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-11i.8","title":"E2E tests for FrankenTerminal React widget component","description":"Create tests/frankentui-terminal-widget.spec.ts — Playwright E2E tests for the React FrankenTerminal widget embedded in a page. These tests verify the widget works correctly when used as an inline component (not full-page). WHAT TO TEST: (A) WIDGET RENDERING: (1) Widget container renders with correct dimensions. (2) Canvas element exists inside the widget. (3) Loading state shows during WASM initialization. (4) Widget transitions from loading to running state. (5) No JavaScript errors in console during widget lifecycle. (B) INTERACTION: (6) Click on widget focuses the canvas. (7) Keyboard input when focused is captured (not propagated to page). (8) Keyboard input when unfocused is NOT captured (page scroll works). (9) Mouse click on canvas sends input to terminal. (10) Scroll wheel inside widget doesn't scroll the page. (C) SIZING: (11) Widget fills its container at specified dimensions. (12) Resizing the viewport reflowed the widget terminal. (13) Widget at minimum size shows graceful degradation. (D) LIFECYCLE: (14) Navigate away from page (React unmount): no memory leaks, no console errors. (15) Navigate back: widget re-initializes cleanly. (E) COEXISTENCE: (16) Page content outside the widget is still interactive (not captured by widget). (17) Page scrolling works when widget is NOT focused. LOGGING: Log structured data for each test: step name, timing, viewport size, widget dimensions, console messages captured. On failure: full screenshot + console log dump + network waterfall.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:06:20.939490987Z","created_by":"ubuntu","updated_at":"2026-02-11T03:06:20.939490987Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11i.8","depends_on_id":"bd-11i","type":"parent-child","created_at":"2026-02-11T03:06:20.939490987Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-11i.8","depends_on_id":"bd-11i.6","type":"blocks","created_at":"2026-02-11T03:06:20.939490987Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l","title":"beads-viewer: Mobile Tables + Revision Legend + UX/Test Hardening","description":"CONTEXT\n- The static beads viewer lives at public/beads-viewer/index.html and renders markdown (marked + DOMPurify) into .prose blocks (issue descriptions, graph node details, etc.).\n- On mobile, markdown tables (the 'ledger' style tables we use in writeups) are currently hard to read: the first column collapses too far, tables look broken, and users feel pushed into horizontal scrolling.\n- We also need a clear, mobile-friendly legend for the 'revision type' indicator (10 categories), with hover tooltip on desktop and an interaction that works on touch devices.\n\nGOALS (USER-VISIBLE)\n1) Mobile markdown tables are readable by default.\n   - No required horizontal scrolling.\n   - The first column never collapses into unreadable slivers.\n   - Dense tables degrade gracefully without losing information.\n2) Revision type is understandable at a glance.\n   - Desktop: hover tooltip.\n   - Mobile: tap-to-open legend (bottom sheet / popover) with the full mapping of the 10 categories.\n3) Add obviously accretive functionality around these areas (table interactions + revision ledger UX) without making the viewer fragile.\n4) Ship with rigorous tests + diagnostics logging so regressions are caught immediately.\n\nNON-GOALS\n- No rewrite of the viewer stack (still static, still sql.js, still offline-friendly).\n- No dependency bloat unless it is clearly the simplest/most robust option.\n\nTECHNICAL CONSTRAINTS\n- Must stay compatible with current CSP/offline model (self-contained assets in public/beads-viewer).\n- Preserve security posture: sanitize markdown output (DOMPurify) and do not introduce XSS surfaces.\n\nQUALITY BAR\n- Unit tests for: table postprocessing logic, revision-type parsing/mapping, and any new UI state reducers/helpers.\n- E2E tests (Playwright) for: mobile viewport rendering, table layout behavior, legend interaction on touch, and 'no console errors' guard.\n- Detailed test logging: JSONL logs with env, viewport, timings, console events, and deterministic run mode.\n\nDELIVERABLE\n- A coherent set of sub-beads with dependency structure that implements all the above, plus deployment verification on Vercel.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-08T16:56:12.667107352Z","created_by":"ubuntu","updated_at":"2026-02-09T01:03:40.806577896Z","closed_at":"2026-02-09T01:03:40.806545775Z","close_reason":"All sub-epics closed. bd-17l.1: Mobile tables (responsive cards, sr-only headers, data-labels, view toggle, TSV copy, CSV export, a11y). bd-17l.2: Revision type badges with colors, icons, tooltips, mobile legend popover.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-17l.1","title":"Mobile Markdown Tables: No-Side-Scroll Responsive Layout","description":"PROBLEM\n- Markdown tables rendered inside .prose (issue descriptions, graph detail panes) look broken on small screens.\n- The first column collapses too aggressively, producing unreadable 'vertical text' or extreme wrapping.\n\nGOAL\n- Make tables readable on mobile with zero required horizontal scrolling.\n\nDESIGN (HIGH LEVEL)\n- Treat tables differently by shape:\n  1) 2-column tables (key/value): on mobile, render each row as a compact card with key on top and value below (no columns).\n  2) 3+ column tables (matrix): on mobile, render each row as a stacked set of label/value pairs using header-derived labels.\n- Preserve semantics and information density on desktop (normal table layout), but never let mobile collapse into unreadable geometry.\n- Ensure behavior is deterministic and compatible with DOMPurify sanitization.\n\nACCEPTANCE CRITERIA\n- On a 390x844 viewport (iPhone 12-ish), tables are readable:\n  - No horizontal scrollbars needed for normal use.\n  - First-column content is legible and does not collapse below a sane minimum.\n- Desktop layout remains table-like and visually consistent.\n- Works for tables produced by marked's GFM output.\n\nTESTING\n- Unit tests for table DOM postprocessing (header extraction, cell labeling, shape classification).\n- E2E tests that load an issue containing representative 2-col and 3+ col tables and verify mobile styling.\n\nIMPLEMENTATION NOTE\n- Likely requires post-processing sanitized DOM in renderMarkdown() to add data-label attributes and table shape classes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-08T16:56:24.781984601Z","created_by":"ubuntu","updated_at":"2026-02-09T00:59:22.234096215Z","closed_at":"2026-02-09T00:59:22.234077810Z","close_reason":"All 5 sub-beads closed: repro/fixtures, table postprocessing, mobile CSS, view toggle/export, and a11y. Mobile tables now responsive with sr-only headers, data-labels, card/table toggle, TSV copy, CSV export.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.1","depends_on_id":"bd-17l","type":"parent-child","created_at":"2026-02-08T16:56:24.781984601Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l.1.1","title":"Repro: Identify Broken Mobile Tables + Capture Fixtures","description":"WHY\nWe need to fix the right thing. Table breakage can differ by table shape (2-col vs 3+ col), content (long tokens, URLs, code), and container (issue modal vs graph detail).\n\nWHAT TO DO\n- Load public/beads-viewer/ in a mobile viewport and find at least:\n  1) A representative 2-column key/value markdown table.\n  2) A representative 3+ column markdown table.\n  3) A pathological case: long unbroken tokens, long IDs, or inline code.\n- Capture screenshots (before) and note the issue IDs where these descriptions appear.\n- Record which view(s) render them (issue modal description, graph detail, etc.).\n\nACCEPTANCE CRITERIA\n- We have 3 concrete fixture tables with issue IDs and 'expected' notes, ready to use in E2E tests.\n\nOUTPUT\n- Update this bead with the fixture IDs and short notes once found.","notes":"Fixture discovery completed on mobile viewport (390x844), using `public/beads-viewer/index.html` issue-detail modal (`#/issue/<id>`).\n\nFixtures identified:\n1) 2-column key/value table fixture\n- Issue ID: `bd-10i.12.2`\n- View/container: issue description modal (`#/issue/bd-10i.12.2`)\n- Observed table shape: 2 columns (`Term`, `Definition`), class `bv-table bv-table--2col`\n- Before screenshot: `/tmp/bd-10i.12.2-mobile-before.png`\n- Expected mobile behavior note: render as readable key/value cards with no forced horizontal scroll and no first-column collapse.\n\n2) Dense 3+ column matrix fixture\n- Issue ID: `bd-1un`\n- View/container: issue description modal (`#/issue/bd-1un`)\n- Observed table shape: 8 columns (`Feature`, `Kitty`, `WezTerm`, `Alacritty`, `Ghostty`, `iTerm2`, `GNOME Term`, `Win Term`), class `bv-table bv-table--ncol`\n- Before screenshot: `/tmp/bd-1un-mobile-before.png`\n- Expected mobile behavior note: stacked/labelled row rendering that preserves all columns without readability collapse.\n\n3) Pathological long-token fixture (long snake_case IDs in first column)\n- Issue ID: `bd-2ky9`\n- View/container: issue description modal (`#/issue/bd-2ky9`)\n- Observed table shape: 3 columns (`Test`, `Description`, `Priority`) with long unbroken identifiers (e.g., `altscreen_enter_exit`, `inline_log_scroll`) in column 1, class `bv-table bv-table--ncol`\n- Before screenshot: `/tmp/bd-2ky9-mobile-before.png`\n- Expected mobile behavior note: long tokens remain legible (no unreadable slivers/overlap), labels preserved, no page-level horizontal scroll.\n\nSummary:\n- All three fixtures are reproducible in issue-modal description rendering.\n- These three IDs are suitable anchors for responsive table E2E assertions and regression screenshots.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-08T16:56:35.145567227Z","created_by":"ubuntu","updated_at":"2026-02-08T20:19:02.229469352Z","closed_at":"2026-02-08T20:19:02.229436290Z","close_reason":"Completed fixture identification + mobile before captures","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.1.1","depends_on_id":"bd-17l.1","type":"parent-child","created_at":"2026-02-08T16:56:35.145567227Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l.1.2","title":"Implement Markdown Table Postprocessing (data-label + shape classes)","description":"SCOPE\n- Enhance public/beads-viewer/viewer.js renderMarkdown() to postprocess sanitized DOM output.\n\nMOTIVATION\n- CSS alone can't reliably turn a table into a mobile-friendly stacked layout without labels.\n- We need header-derived labels (thead/th) to be available on each cell.\n\nDESIGN\n- Pipeline:\n  1) marked.parse(text) -> HTML\n  2) DOMPurify.sanitize(html, { RETURN_DOM_FRAGMENT: true }) -> safe DOM fragment\n  3) enhanceTables(fragment):\n     - For each table:\n       - Extract headers: <thead> <th> textContent, trimmed.\n       - Count columns; add class:\n         - bv-table bv-table--2col (exactly 2 cols)\n         - bv-table bv-table--ncol (>=3 cols)\n       - For each tbody row, for each td index i:\n         - Set td.dataset.label = headers[i] (or '' if missing)\n       - Add data-bv-table=1 marker for debugging.\n     - Optional: normalize whitespace, handle tables without <thead> gracefully.\n  4) Serialize fragment back to HTML string for Alpine x-html.\n\nACCEPTANCE CRITERIA\n- For a standard GFM table, each <td> ends up with data-label matching its header cell.\n- For a 2-col table, the table element is tagged so CSS can render key/value cards.\n- No XSS regression: postprocessing runs AFTER DOMPurify sanitization.\n\nTESTS\n- Unit tests: given sample HTML strings (marked output), assert headers extracted and data-labels applied deterministically.\n- Negative tests: tables missing thead, mismatched column counts, nested tables, empty cells.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-08T16:56:46.813172989Z","created_by":"ubuntu","updated_at":"2026-02-08T19:33:16.449954672Z","closed_at":"2026-02-08T19:33:16.449932631Z","close_reason":"Implemented DOMPurify fragment + enhanceTables(data-label/shape classes) + Playwright unit tests","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.1.2","depends_on_id":"bd-17l.1","type":"parent-child","created_at":"2026-02-08T16:56:46.813172989Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l.1.3","title":"Add Mobile CSS for Table Cards (2-col) + Labeled Rows (N-col)","description":"FILES\n- public/beads-viewer/styles.css\n\nGOAL\n- Use the classes added by bd-17l.1.2 to render tables in a mobile-native format.\n\nDESIGN\n- Desktop/tablet: keep classic table styling (striped rows, borders).\n- Mobile (<= 640px):\n  - .bv-table--2col:\n    - Hide thead visually.\n    - Render each tbody tr as a card with:\n      - First td = key/title (bold, full width)\n      - Second td = value (muted label, wraps naturally)\n    - No internal cell borders.\n  - .bv-table--ncol:\n    - Hide thead visually.\n    - Render each td as a 2-col grid (label/value):\n      - td::before { content: attr(data-label) }\n      - Grid template columns: minmax(7rem, 40%) 1fr (prevents skinny label column)\n    - Render each tr as a card with subtle border + spacing.\n\nACCESSIBILITY\n- If hiding <thead>, prefer a visually-hidden approach instead of display:none so screen readers can still derive context.\n\nACCEPTANCE CRITERIA\n- Mobile: no horizontal scrolling required for typical ledger tables.\n- Mobile: first column/key is never 'skinny'; key/value layout reads naturally.\n- Desktop: table still looks like a table.\n\nDEPENDENCY\n- Depends on bd-17l.1.2 so the classes/data-label exist.\n\nTESTS\n- E2E: screenshot diffs or layout assertions in Playwright at mobile viewport.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-08T16:56:57.750708678Z","created_by":"ubuntu","updated_at":"2026-02-08T19:40:21.773206539Z","closed_at":"2026-02-08T19:40:21.773188154Z","close_reason":"Added mobile-responsive CSS for bv-table 2col/ncol layouts + Playwright layout assertions","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.1.3","depends_on_id":"bd-17l.1","type":"parent-child","created_at":"2026-02-08T16:56:57.750708678Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-17l.1.3","depends_on_id":"bd-17l.1.2","type":"blocks","created_at":"2026-02-08T16:57:11.685596014Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l.1.4","title":"Table UX: View Toggle (Table vs Cards) + Copy/Export (CSV/TSV)","description":"USER VALUE\n- Some users will prefer classic tables even on mobile (especially for small 3-col tables), while others want card mode.\n- Copying ledger tables into notes/spreadsheets is a common workflow.\n\nFEATURES\n1) Per-table view toggle\n- Default on mobile: card/stacked mode.\n- Provide a small control (e.g., 'View: Cards | Table') per table.\n- Persist preference globally in localStorage (so users don't re-toggle constantly).\n\n2) Copy / export actions\n- 'Copy as TSV' for spreadsheet-friendly paste.\n- 'Download CSV' for offline use.\n\nDESIGN NOTES\n- Because markdown tables are generated HTML, controls must be injected post-render.\n- Avoid breaking sanitization: inject controls into already-sanitized DOM.\n- Make controls unobtrusive; hide unless table is hovered (desktop) or via a small '⋯' button (mobile).\n\nACCEPTANCE CRITERIA\n- On mobile, user can switch a table back to classic table rendering.\n- Copy/export produces correct headers + row values.\n- No page-level horizontal scroll introduced.\n\nTESTS\n- Unit: HTML->TSV/CSV conversion correctness for tricky cells (links, code, line breaks).\n- E2E: toggling persists across modal close/reopen (localStorage).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T16:57:22.012638557Z","created_by":"ubuntu","updated_at":"2026-02-09T00:47:15.194585688Z","closed_at":"2026-02-09T00:47:15.194563115Z","close_reason":"Implemented table view toggle (cards/table), copy TSV, download CSV. 13 E2E tests passing.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.1.4","depends_on_id":"bd-17l.1","type":"parent-child","created_at":"2026-02-08T16:57:22.012638557Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-17l.1.4","depends_on_id":"bd-17l.1.2","type":"blocks","created_at":"2026-02-08T16:57:26.132935268Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-17l.1.4","depends_on_id":"bd-17l.1.3","type":"blocks","created_at":"2026-02-08T16:57:26.201310014Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l.1.5","title":"A11y: Responsive Tables Keep Context (SR-only headers, focus, contrast)","description":"SCOPE\n- Ensure responsive table transformations do not make the content worse for accessibility.\n\nCHECKLIST\n- When hiding <thead> on mobile, do it via a visually-hidden pattern (not display:none) so screen readers can still navigate by header context.\n- Ensure injected controls (toggle/copy) are keyboard accessible with clear focus states.\n- Ensure color contrast remains AA in both light and dark.\n\nACCEPTANCE CRITERIA\n- VoiceOver/NVDA navigation across a transformed table still communicates header/label context.\n- No focus traps introduced in the issue modal.\n\nDEPENDS ON\n- bd-17l.1.2 + bd-17l.1.3 (actual transformation implementation).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T16:57:34.817254067Z","created_by":"ubuntu","updated_at":"2026-02-09T00:59:08.256605017Z","closed_at":"2026-02-09T00:59:08.256584548Z","close_reason":"Fixed: focus ring uses --bv-cyan (was undefined --bv-accent), button text uses --bv-fg (better contrast), modal has role=dialog + aria-modal + focus trap. SR-only headers already correct. 4 new a11y E2E tests.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.1.5","depends_on_id":"bd-17l.1","type":"parent-child","created_at":"2026-02-08T16:57:34.817254067Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-17l.1.5","depends_on_id":"bd-17l.1.2","type":"blocks","created_at":"2026-02-08T16:57:38.842830856Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-17l.1.5","depends_on_id":"bd-17l.1.3","type":"blocks","created_at":"2026-02-08T16:57:38.910234755Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-17l.2","title":"Revision Types: Badge System + Legend (Desktop hover, Mobile tap)","description":"PROBLEM\n- Users see a 'revision type' indicator (10 categories), but without a legend it is opaque.\n- Hover tooltips don't exist on mobile; we need a touch-native way to explain the type mapping.\n\nGOALS\n- Single source of truth mapping for 10 revision categories -> label, color, icon, description.\n- Desktop: hover tooltip (and title fallback) for badges.\n- Mobile: tap-to-open legend (bottom sheet/popover) that explains all categories.\n\nDESIGN\n- Expose the legend via an info button adjacent to anywhere the badge appears.\n- Prefer progressive disclosure:\n  - On small screens, show compact badge; user taps for legend.\n  - On desktop, keep UI clean but allow hover + keyboard focus.\n\nACCEPTANCE CRITERIA\n- In a touch-only environment, the user can discover what each revision type means.\n- Legend is accessible (keyboard focus, ARIA labels).\n\nTESTS\n- Unit tests for parsing -> category classification.\n- E2E tests ensuring legend opens on mobile viewport and closes reliably.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-08T16:57:47.788169893Z","created_by":"ubuntu","updated_at":"2026-02-09T01:03:34.525337319Z","closed_at":"2026-02-09T01:03:34.525315558Z","close_reason":"Implemented colored badge system for 6 issue types (bug/feature/task/epic/docs/chore). Each has icon, color, bg, description. Desktop: title tooltip. Mobile: tap-to-open legend popover with info button. Filter chips use type-specific colors. Distribution chart bars colored by type. 5 E2E tests.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-17l.2","depends_on_id":"bd-17l","type":"parent-child","created_at":"2026-02-08T16:57:47.788169893Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-21c","title":"Homepage: make author artifact image much larger","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T04:00:33.761025024Z","created_by":"ubuntu","updated_at":"2026-02-10T04:00:37.874882165Z","closed_at":"2026-02-10T04:00:37.874858180Z","close_reason":"Increase homepage author artifact avatar to 160/192px and adjust header layout","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-29e","title":"Populate lib/data/tldr-tool-stars.json with actual star rating data","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:40:50.487451562Z","created_by":"ubuntu","updated_at":"2026-02-09T17:41:26.051791478Z","closed_at":"2026-02-09T17:41:26.051768586Z","close_reason":"Populated tldr-tool-stars.json with current GitHub star counts for all 14 flywheel tools, matching hardcoded values in flywheel-data.ts","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2b4","title":"Epic: Prominent landing page integration of /web live demo","description":"GOAL: Make the /web live WASM demo a HERO FEATURE on the frankentui.com landing page. This is not just 'add a nav link and some CTAs' — this is a fundamental repositioning of FrankenTUI's value proposition. CONTEXT & STRATEGIC IMPORTANCE: FrankenTUI running in the browser via WASM+WebGPU means it's not just a Ratatui/Crossterm replacement for native terminals — it's also a replacement for xterm.js in the browser. This is a massive expansion of FrankenTUI's addressable market and use cases. The landing page must communicate this clearly and compellingly. Currently the homepage hero shows a pre-recorded video. The /web demo is orders of magnitude more impressive because visitors can INTERACT with it live. WHAT 'PROMINENT' MEANS: (1) The hero section should lead with or prominently feature the live demo capability. (2) A dedicated section should explain the browser story (WASM+WebGPU, works in Chrome/Edge, full 60fps terminal in the browser). (3) Comparison positioning: FrankenTUI vs xterm.js / vs other browser terminals — show why FrankenTUI's approach (real TUI kernel compiled to WASM with GPU rendering) is superior to DOM-based terminal emulators. (4) The 'Try the Live Demo' CTA should be one of the first things visitors see, not buried below the fold. (5) Feature badges/stats should include 'Runs in Browser' alongside the existing stats. DEPENDENCY: Requires the /web route to be working (Epic bd-ty6).","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-11T03:06:48.931124243Z","created_by":"ubuntu","updated_at":"2026-02-11T03:06:48.931124243Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2b4.1","title":"Redesign hero section to feature live browser demo as primary CTA","description":"Redesign the homepage hero section (app/page.tsx) to make the live browser demo the most prominent call-to-action. CURRENT STATE: The hero section has animated stats (workspace crates, build time, algorithms, throughput), a title, a subtitle, and links to Getting Started + GitHub. Below it is a video demo section showing a pre-recorded Rio CRT video. PROPOSED CHANGES: (1) ADD A PRIMARY CTA BUTTON: 'Try It Live in Your Browser →' (or 'Launch Live Demo') as the FIRST and most prominent button, above or alongside the existing 'Get Started' button. Style it distinctively — possibly with a pulsing glow or the green accent color, larger than other buttons. It's the single most compelling action a visitor can take. (2) ADD A HERO STAT: Replace one of the 4 hero stats or add a 5th: 'Runs in Browser' or 'WebGPU Native' or '60fps in Browser'. This immediately signals the browser capability. (3) ENHANCE THE SUBTITLE: Current subtitle probably mentions terminal/TUI. Add browser capability: 'The Rust TUI kernel that runs everywhere — terminal AND browser.' (4) OPTIONAL - LIVE PREVIEW: Consider replacing the static video with a small embedded FrankenTerminal widget showing a demo screen (e.g., dashboard). This is the ultimate flex — the hero itself is a live terminal. But: this loads 3.4MB of WASM on page load, which hurts LCP. If we do this, make it lazy (load only after above-the-fold content) or behind a 'Click to activate' overlay. DEPENDS ON: React widget (Epic bd-11i) if we embed a live preview; otherwise only needs /web route working. WHAT TO MODIFY: app/page.tsx (hero section), lib/content.ts (heroStats array, possibly CTA data).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T03:07:11.029372258Z","created_by":"ubuntu","updated_at":"2026-02-11T03:07:11.029372258Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2b4.1","depends_on_id":"bd-2b4","type":"parent-child","created_at":"2026-02-11T03:07:11.029372258Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2b4.1","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T03:07:11.029372258Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2b4.2","title":"Add 'Works in Browser' section explaining WASM+WebGPU story","description":"Create a new dedicated section on the homepage that explains FrankenTUI's browser capability. This is where we tell the story of WHY it matters that a real TUI kernel runs in the browser. SECTION CONTENT: (1) HEADLINE: Something like 'The First Real TUI Kernel in Your Browser' or 'Not Just Terminal — Browser Too'. (2) KEY POINTS (3-4 cards or bullets): (a) 'Real TUI, Not a Toy' — FrankenTUI compiles to WASM via wasm-pack. The same Rust code that runs natively also runs in the browser. No reimplementation, no subset. (b) 'WebGPU Rendering at 60fps' — Terminal cells rendered via the GPU, not the DOM. This means no layout thrashing, no text node soup, no CSS recalc. Just raw pixel-perfect rendering. (c) 'Full Input Support' — Keyboard, mouse, wheel, clipboard, IME. The browser demo handles all the same input as a native terminal. (d) 'Deterministic and Testable' — Same patch-based rendering pipeline. What you see in the browser is exactly what you'd see in a native terminal. (3) COMPARISON CALLOUT: Brief comparison with xterm.js approach: xterm.js = DOM-based emulator + escape sequence parser. FrankenTUI = real TUI application kernel compiled to WASM + GPU rendering. The architectural difference is profound. (4) CTA: 'Try the live demo →' button. IMPLEMENTATION: Add to app/page.tsx as a new section. Use SectionShell with an appropriate icon (Globe, Monitor, or Laptop from lucide-react — check the icon map and add if needed). Add content data to lib/content.ts. Place this section high on the page — after the hero and features, but BEFORE the existing video/screenshot sections. It should be one of the first things a scrolling visitor sees. DESIGN: Consider using FrankenContainer (bolts + stitches) for visual emphasis. Maybe a split layout: text on left, a screenshot or embedded widget on right.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T03:07:27.574525381Z","created_by":"ubuntu","updated_at":"2026-02-11T03:07:27.574525381Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2b4.2","depends_on_id":"bd-2b4","type":"parent-child","created_at":"2026-02-11T03:07:27.574525381Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2b4.2","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T03:07:27.574525381Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2b4.3","title":"Add FrankenTUI vs xterm.js comparison data and positioning content","description":"Create comparison data in lib/content.ts that positions FrankenTUI against browser terminal emulators (primarily xterm.js, but also hterm, terminal.js). This content will be used by the homepage browser section and possibly the architecture page. DATA TO ADD TO lib/content.ts: (1) browserComparisonData — array of comparison rows, similar to existing comparisonData (which compares vs Ratatui/Crossterm). Columns: Feature, FrankenTUI (WASM), xterm.js, hterm. Rows should include: Rendering approach (GPU canvas vs DOM), Frame rate (60fps deterministic vs variable), Input model (full keyboard/mouse/IME vs escape sequences), Architecture (compiled application kernel vs emulator+parser), Binary protocol (flat patches vs escape sequence stream), Resize behavior (reflow + re-render vs escape sequence), Testing (deterministic golden checksums vs screenshot diffs), Memory model (Rust ownership/RAII vs JS GC), Bundle size (3.4MB WASM vs ~800KB JS, but FrankenTUI includes the whole app). (2) browserAdvantages — array of {title, description, icon} for the key advantages of the WASM+WebGPU approach. (3) browserUseCases — array of use cases: web-based terminal apps, embeddable TUI widgets, interactive documentation, demo/showcase pages. WHY THIS MATTERS: Most developers know xterm.js as THE way to do terminals in the browser. FrankenTUI's approach is fundamentally different and better in many ways. We need to articulate this clearly. The comparison shouldn't be a takedown of xterm.js — it should explain the architectural difference and let readers draw their own conclusions.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:07:41.878284861Z","created_by":"ubuntu","updated_at":"2026-02-11T03:07:41.878284861Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2b4.3","depends_on_id":"bd-2b4","type":"parent-child","created_at":"2026-02-11T03:07:41.878284861Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2b4.3","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T03:07:41.878284861Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2b4.4","title":"Update feature cards and stats to highlight browser capability","description":"Update existing content structures in lib/content.ts to weave in the browser capability as a first-class feature, not an afterthought. CHANGES: (1) heroStats: Add or replace one stat to show browser capability. Current 4 stats: Workspace crates, Build time, Algorithms, Throughput. Proposed: Replace 'Throughput' (or add a 5th) with something like 'Works in Browser' or '60fps WebGPU'. (2) features array: The current 6 features focus on native terminal capabilities (Inline mode, Deterministic rendering, One-writer rule, RAII cleanup, Composable crates, Alien algorithms). Add a 7th feature or modify one to include: 'Browser Native — Compiles to WASM via wasm-pack, runs at 60fps in Chrome/Edge via WebGPU. Same code, same behavior, new platform.' (3) designPhilosophy: Add a principle about cross-platform: 'Write once, run everywhere — native terminal AND browser.' (4) FAQ: Add a question: 'Does FrankenTUI work in the browser?' → 'Yes\\! FrankenTUI compiles to WASM and renders via WebGPU at 60fps. Try the live demo at frankentui.com/web.' (5) safetyGuarantees: Consider adding a guarantee about cross-platform parity: 'The WASM build produces identical output to the native build.' WHERE: All changes in lib/content.ts. This is a content-only task — no component changes needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:07:54.438374823Z","created_by":"ubuntu","updated_at":"2026-02-11T03:07:54.438374823Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2b4.4","depends_on_id":"bd-2b4","type":"parent-child","created_at":"2026-02-11T03:07:54.438374823Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2b4.4","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T03:07:54.438374823Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2b4.5","title":"E2E tests for landing page /web integration (hero CTA, browser section, comparison)","description":"Create tests/landing-page-web-integration.spec.ts — Playwright E2E tests that verify the homepage correctly features the /web live demo prominently. WHAT TO TEST: (A) HERO SECTION: (1) 'Try It Live' CTA button is visible in the hero section. (2) CTA button links to /web. (3) CTA button is one of the first interactive elements (above the fold on desktop). (4) If a hero stat mentions browser/WASM, verify it's displayed. (B) BROWSER SECTION: (5) The 'Works in Browser' section exists on the homepage. (6) Section contains expected content (WASM, WebGPU, 60fps keywords). (7) Section has a CTA linking to /web. (8) Section is positioned high on the page (before screenshots/videos). (C) COMPARISON CONTENT: (9) If a comparison table exists, verify it includes FrankenTUI vs xterm.js data. (10) Comparison data is accurate (spot-check a few cells). (D) NAVIGATION: (11) 'Live Demo' nav link exists in site header. (12) Clicking it navigates to /web. (E) SECONDARY PAGES: (13) Showcase page has a CTA linking to /web. (14) Getting Started page has a 'try before installing' CTA. LOGGING: Structured test output with timing for each assertion. Screenshot on failure. Log the full page DOM snapshot for hero and browser sections on failure.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:08:29.473521333Z","created_by":"ubuntu","updated_at":"2026-02-11T03:08:29.473521333Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2b4.5","depends_on_id":"bd-2b4","type":"parent-child","created_at":"2026-02-11T03:08:29.473521333Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2b4.5","depends_on_id":"bd-2b4.1","type":"blocks","created_at":"2026-02-11T03:08:29.473521333Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2b4.5","depends_on_id":"bd-2b4.2","type":"blocks","created_at":"2026-02-11T03:08:29.473521333Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu","title":"Spec Evolution Lab: UX + Forensic Features","description":"CONTEXT\\n- The Spec Evolution Lab is a single-file, self-contained HTML forensic browser at:\\n  public/how-it-was-built/visualization_of_the_evolution_of_the_frankentui_specs_document_from_inception.html\\n- It reconstructs spec history from git (docs/spec + docs/specs) and overlays manual categorization into 10 buckets.\\n\\nGOALS\\n- Make the evolution browsing experience Stripe-level polished on desktop and mobile.\\n- Add high-leverage forensic features: search, deep links, compare modes, timeline playback, and richer metrics (lines/tokens/edit distance) while keeping the page stable and fast.\\n- Preserve the single-file requirement (no extra build pipeline, no extra API).\\n\\nNON-GOALS\\n- No conversion into a full app route with backend services.\\n- No dependency bloat unless it is clearly simpler/safer than bespoke code.\\n\\nQUALITY BAR\\n- Unit tests for any pure functions (metrics, parsing, state encode/decode). Prefer Bun's built-in test runner.\\n- E2E Playwright tests with deterministic logging: JSONL logs containing env, viewport, timings, console events, and failure screenshots.\\n- No console errors in the happy path; fail the E2E run if any appear.\\n\\nDELIVERABLE\\n- A set of sub-beads with clear dependencies + acceptance criteria that implement the features + tests.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-08T18:23:00.200365889Z","created_by":"ubuntu","updated_at":"2026-02-08T23:16:24.572374671Z","closed_at":"2026-02-08T23:16:24.572355815Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2eu.1","title":"Spec Evolution Lab: E2E Smoke Tests + JSONL Logging","description":"SCOPE\\n- Add Playwright E2E coverage specifically for:\\n  /how-it-was-built/visualization_of_the_evolution_of_the_frankentui_specs_document_from_inception.html\\n\\nGOALS\\n- Catch UI/JS regressions immediately (especially CDN/lib failures and DOM changes).\\n- Provide rich diagnostics when something breaks.\\n\\nDESIGN\\n- Test matrix:\\n  - Desktop viewport (e.g. 1440x900)\\n  - Mobile viewport (e.g. 390x844)\\n- Assertions:\\n  - Page loads and bootstrap completes (commit list populated).\\n  - Switching tabs works: Diff, Snapshot, Ledger, Files.\\n  - Snapshot renders markdown content with at least one table transformed on mobile.\\n  - Clicking a bucket chip opens the bucket info dialog and the dialog is closable.\\n  - No console errors or pageerrors.\\n- Logging:\\n  - Emit JSONL lines per test run with:\\n    - run_id, timestamp, viewport, URL\\n    - timings (domcontentloaded/load/bootstrap)\\n    - console events (type, text)\\n    - request failures (url, errorText)\\n    - screenshot paths for failures\\n\\nACCEPTANCE CRITERIA\\n- Running the suite locally is one command and produces deterministic logs.\\n- Fail the suite if any console.error/pageerror occurs.\\n\\nNOTES\\n- Prefer using existing Playwright setup in this repo (bunx playwright).","notes":"Implemented Playwright smoke coverage + deterministic JSONL diagnostics for the static Spec Evolution Lab page:\n`/how-it-was-built/visualization_of_the_evolution_of_the_frankentui_specs_document_from_inception.html`\n\nCode changes:\n- Extended `tests/war-stories-nav.spec.ts` with `runStaticSpecEvolutionSmoke(...)` helper.\n- Added two viewport tests:\n  - desktop: 1440x900\n  - mobile: 390x844\n\nAssertions implemented:\n- bootstrap completes (`#commitList [data-commit-idx]` populated)\n- tab switching works: Diff, Snapshot, Ledger, Files\n- snapshot markdown includes table rendering; mobile verifies transformed table signal (`data-label` and/or enhanced class)\n- bucket chip opens bucket info dialog and dialog closes reliably\n- run fails on `console.error`, `pageerror`, or request failures\n\nDiagnostics logging:\n- JSONL file: `test-results/logs/spec-evolution-static-e2e.jsonl`\n- Each record includes run_id, timestamp, viewport, URL, timings (domcontentloaded/load/bootstrap/total), console events, page errors, request failures, status, and failure screenshot path.\n\nValidation command:\n- `BASE_URL=http://127.0.0.1:<port> bunx playwright test tests/war-stories-nav.spec.ts -g \"spec evolution static html\"`\n- Latest run: 2/2 passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-08T18:23:35.246422767Z","created_by":"ubuntu","updated_at":"2026-02-08T20:31:07.429344234Z","closed_at":"2026-02-08T20:31:07.429322403Z","close_reason":"Implemented static Spec Evolution Lab E2E smoke tests with deterministic JSONL diagnostics","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.1","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:23:35.246422767Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.2","title":"Spec Evolution Lab: Deep-Linkable State (Commit/Tab/File/Filter)","description":"PROBLEM\\n- Today the URL hash only persists the selected commit and active tab.\\n- Users can not reliably share a link that preserves the full investigative context (selected spec file, diff format, search query, reviewed-only toggle, bucket filter).\\n\\nGOAL\\n- Make the lab shareable and 'session-like' with a robust, backwards-compatible (within this tool) URL hash encoding of state.\\n\\nSTATE MODEL\\n- Required:\\n  - selected commit short SHA\\n  - active tab (diff/snapshot/raw/ledger/files)\\n- Add:\\n  - selected snapshot file (or __ALL__)\\n  - diff format (inline vs side-by-side)\\n  - search query for commit list\\n  - reviewed-only toggle\\n  - bucket filter (single bucket)\\n\\nDESIGN\\n- Use a single compact hash payload, e.g.:\\n  #c=<short>&tab=<tab>&f=<file>&d=<diffFmt>&q=<search>&ro=0|1&b=<bucket>\\n- Parsing must be resilient: ignore unknown keys; clamp invalid values.\\n- On every state change, update hash without adding history entries (replaceState).\\n\\nACCEPTANCE CRITERIA\\n- Copy Link always reproduces the same view on reload (including file + filter).\\n- Hash parsing never throws (even with partial/invalid hashes).\\n\\nTESTS\\n- Unit: state encode/decode roundtrip; invalid input clamps and defaults.\\n- E2E: load URL with full state and assert UI reflects it.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-08T18:23:47.562474853Z","created_by":"ubuntu","updated_at":"2026-02-08T22:30:07.611709559Z","closed_at":"2026-02-08T22:30:07.611689742Z","close_reason":"Deep-linkable state implemented with URL hash encoding/decoding. State persisted: commit SHA, active tab, file choice, diff format, search query, reviewed-only toggle, bucket filter. Hash parsing resilient to invalid input. E2E tests: roundtrip restore + invalid hash resilience.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.2","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:23:47.562474853Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.3","title":"Spec Evolution Lab: Compare Mode (Pin A, Scrub B, Diff + Metrics)","description":"USER VALUE\\n- Investigations often require comparing non-adjacent commits (not just prev→current).\\n- A pin/scrub workflow matches how people use git blame/log in practice.\\n\\nGOAL\\n- Add an A/B compare mode:\\n  - Pin a baseline commit A\\n  - Scrub/select a target commit B\\n  - View diff/metrics between A and B\\n\\nDESIGN\\n- UI\\n  - Add a small 'Pin as A' action for the current commit.\\n  - When A is pinned, show a 2nd scrubber for B or reuse the existing scrubber with a visible A marker.\\n  - Provide a one-click swap A↔B.\\n- Diff\\n  - Default to showing git patch for commit B (existing) but add a 'Corpus diff A→B' mode that diffs the reconstructed snapshots (markdown/raw).\\n- Metrics\\n  - Compute A→B deltas for:\\n    - lines, bytes\\n    - edit distance (line-level)\\n    - per-file change summary (added/removed/modified counts)\\n\\nACCEPTANCE CRITERIA\\n- User can compare any two commits without losing their place.\\n- Compare mode is obvious but not intrusive when off.\\n\\nTESTS\\n- Unit: snapshot aggregation + diff/metrics functions are deterministic.\\n- E2E: pin A, scrub B, verify metrics panel updates and no console errors.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-08T18:23:59.582764448Z","created_by":"ubuntu","updated_at":"2026-02-08T22:25:23.092270122Z","closed_at":"2026-02-08T22:25:23.092246839Z","close_reason":"Compare mode fully implemented with unit tests (34 passing) and E2E tests (2 passing). Features: Pin A, Scrub B, Swap A↔B, Clear, metrics panel (Δ lines, Δ bytes, file summary), corpus diff A→B mode.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.3","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:23:59.582764448Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.4","title":"Spec Evolution Lab: Full-Text Search (Corpus + Diffs)","description":"PROBLEM\\n- The current search only filters by commit subject/short SHA.\\n- When investigating a spec, users need to find when a concept/string first appeared and how it evolved.\\n\\nGOAL\\n- Add full-text search over:\\n  1) Current snapshot corpus (fast, in-page)\\n  2) All commits' snapshots/diffs (heavier; allow progressive indexing)\\n\\nDESIGN\\n- Search scopes:\\n  - 'This commit' (default): search inside the rendered snapshot markdown (DOM text) + raw snapshot text.\\n  - 'All commits': build a lightweight inverted index over commit snapshots in memory.\\n    - Use incremental indexing: index N commits per idle frame (requestIdleCallback), show progress.\\n    - Allow cancel.\\n- Result UX:\\n  - Show a results tray with:\\n    - commit short SHA + date\\n    - snippet + highlighted match\\n    - file path(s) if available\\n  - Tap result selects commit and scrolls to match in Snapshot view.\\n\\nACCEPTANCE CRITERIA\\n- Users can answer 'when did X first appear?' within seconds.\\n- Search is usable on mobile and does not freeze the UI.\\n\\nTESTS\\n- Unit: indexing/search is deterministic; incremental builder yields correct final results.\\n- E2E: search finds a known term and navigates to the right commit.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T18:24:11.671372735Z","created_by":"ubuntu","updated_at":"2026-02-08T22:56:49.725531302Z","closed_at":"2026-02-08T22:56:49.725431626Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.4","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:24:11.671372735Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.4","depends_on_id":"bd-2eu.7","type":"blocks","created_at":"2026-02-08T18:25:41.095425506Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.5","title":"Spec Evolution Lab: Timeline Mini-map + Playback","description":"USER VALUE\\n- The scrubber works, but it is not expressive: it does not show where change density is high, and it doesn't enable 'play' to see evolution as an animation.\\n\\nGOAL\\n- Add a bottom timeline that makes the entire evolution legible at a glance and supports playback.\\n\\nDESIGN\\n- Timeline mini-map\\n  - Render a compact sparkline/heat strip for the selected metric across commits.\\n  - Overlay markers for reviewed vs unreviewed and bucket-filter matches.\\n  - Clicking a region jumps the scrubber to the nearest commit.\\n- Playback\\n  - Play/pause with speed control (0.25x/0.5x/1x/2x).\\n  - Respect prefers-reduced-motion: disable autoplay by default and cap speed.\\n  - During playback: update the active commit + keep chart selection synced.\\n\\nACCEPTANCE CRITERIA\\n- Users can quickly find 'bursty' periods and play through them.\\n- On mobile, the timeline is finger-friendly and does not introduce accidental scroll traps.\\n\\nTESTS\\n- Unit: timeline scale mapping is correct and monotonic.\\n- E2E: play toggles state and advances commit index deterministically with mocked timers.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T18:24:22.323936729Z","created_by":"ubuntu","updated_at":"2026-02-08T23:04:00.318508390Z","closed_at":"2026-02-08T23:04:00.318472032Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.5","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:24:22.323936729Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.5","depends_on_id":"bd-2eu.6","type":"blocks","created_at":"2026-02-08T18:25:33.343168888Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.6","title":"Spec Evolution Lab: Metrics Panel v2 (Tokens/Bytes/Edit Distance/Per-File)","description":"PROBLEM\\n- The lab currently exposes only a few coarse metrics (lines, patch bytes, and a line-level edit distance computed on demand).\\n- Investigations benefit from multiple orthogonal measures (tokens, chars, per-file deltas) and transparent computation.\\n\\nGOAL\\n- Add a metrics panel that quantifies changes robustly and explains what each metric means.\\n\\nMETRICS\\n- Always-on (cheap):\\n  - files changed, +/-, patch bytes\\n  - snapshot bytes/lines/words (already in dataset snapshot meta)\\n- On-demand (potentially expensive):\\n  - line-level Levenshtein A→B (existing for prev→current; generalize for compare mode)\\n  - character-level edit distance with early-exit bound\\n  - token counts (approx):\\n    - a) whitespace tokenization (fast baseline)\\n    - b) optional tokenizer (if we later embed a WASM tokenizer)\\n- Per-file breakdown: which spec file contributed most to the delta.\\n\\nDESIGN\\n- Show metric definitions inline (small 'what is this?' affordance) with mobile-friendly dialog.\\n- For expensive metrics: show progress + time and allow cancel; cache per (A,B) pair in-memory.\\n\\nACCEPTANCE CRITERIA\\n- Users can switch metrics without freezing the page.\\n- Metrics are clearly defined (no misleading precision).\\n\\nTESTS\\n- Unit: metric functions deterministic; cache keying correct; early-exit works.\\n- E2E: run a known metric computation and assert the UI updates.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-08T18:24:33.700103038Z","created_by":"ubuntu","updated_at":"2026-02-08T22:33:40.042757953Z","closed_at":"2026-02-08T22:33:40.042738426Z","close_reason":"Metrics Panel v2 implemented: added Δ_WORDS metric, auto-computed cached edit distance (line-level Levenshtein), per-file contribution breakdown sorted by absolute byte delta, info tooltip affordances on all metrics. 38 unit tests + 8 E2E tests all passing.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.6","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:24:33.700103038Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.6","depends_on_id":"bd-2eu.3","type":"blocks","created_at":"2026-02-08T18:25:29.123144707Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.7","title":"Spec Evolution Lab: Performance Hardening (Lazy Diff, Virtual Lists, Cache)","description":"PROBLEM\\n- The dataset is large and the UI renders heavy views (Diff2Html, full markdown snapshots).\\n- On lower-end devices, naïve rerenders can cause jank or long main-thread stalls.\\n\\nGOAL\\n- Keep interactions smooth on mobile while preserving full fidelity.\\n\\nSTRATEGY\\n- Lazy render heavy tabs:\\n  - Only construct Diff2Html UI the first time Diff tab is opened for a commit; cache per commit+format.\\n  - Only render markdown snapshot when Snapshot tab is active; avoid re-render when toggling unrelated UI state.\\n- Virtualize long commit lists (desktop sidebar and mobile commits dialog).\\n- Cache computed artifacts:\\n  - sanitized markdown HTML per (commit,file selection)\\n  - parsed patch or Diff2Html DOM per commit\\n  - metric computations per (A,B)\\n- Add a perf diagnostics mode:\\n  - capture render times for key operations and expose in the UI (dev-only toggle).\\n\\nACCEPTANCE CRITERIA\\n- Scrubbing commits stays responsive on a 390px viewport with a large dataset.\\n- No runaway memory growth during extended usage.\\n\\nTESTS\\n- Unit: cache keying and invalidation rules.\\n- E2E: basic performance sanity (no >2s long tasks during scrubbing) using page.performance timings.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T18:24:46.672616232Z","created_by":"ubuntu","updated_at":"2026-02-08T22:50:18.649146688Z","closed_at":"2026-02-08T22:50:18.649063593Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.7","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:24:46.672616232Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2eu.8","title":"Spec Evolution Lab: A11y + Mobile Polish Pass","description":"GOAL\\n- Make the lab feel 'finished' on mobile and accessible via keyboard/screen readers where feasible.\\n\\nCHECKLIST\\n- Dialogs\\n  - Ensure all dialogs have focusable close actions, Esc close, and no focus traps regressions.\\n  - Ensure button labels are explicit (aria-label where needed).\\n- Touch ergonomics\\n  - Ensure primary controls are reachable (consider sticky bottom bar for timeline + tabs).\\n  - Ensure tap targets are >= 44px where appropriate.\\n- Reduce motion\\n  - Respect prefers-reduced-motion for any playback/animation features.\\n- Typography\\n  - Ensure tables, code blocks, and long tokens wrap or scroll intentionally without breaking layout.\\n\\nACCEPTANCE CRITERIA\\n- Mobile: no accidental horizontal scrolling; UI feels deliberate.\\n- Keyboard: user can navigate tabs and open/close dialogs without mouse.\\n\\nTESTS\\n- E2E: basic a11y smoke (tabbing, Esc close).\\n- Manual: iOS Safari sanity pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T18:24:56.383819206Z","created_by":"ubuntu","updated_at":"2026-02-08T23:16:12.623790799Z","closed_at":"2026-02-08T23:16:12.623769259Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu","type":"parent-child","created_at":"2026-02-08T18:24:56.383819206Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.1","type":"blocks","created_at":"2026-02-08T18:25:47.931618757Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.2","type":"blocks","created_at":"2026-02-08T18:25:47.481578050Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.3","type":"blocks","created_at":"2026-02-08T18:25:47.553943288Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.4","type":"blocks","created_at":"2026-02-08T18:25:47.631485390Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.5","type":"blocks","created_at":"2026-02-08T18:25:47.708347879Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.6","type":"blocks","created_at":"2026-02-08T18:25:47.781259340Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2eu.8","depends_on_id":"bd-2eu.7","type":"blocks","created_at":"2026-02-08T18:25:47.856750502Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2zz","title":"Homepage tweet wall: masonry layout + typography; enlarge author artifact","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:22:54.023869161Z","created_by":"ubuntu","updated_at":"2026-02-10T03:23:05.713867802Z","closed_at":"2026-02-10T03:23:05.713845329Z","close_reason":"Implemented masonry-style tweet wall + typography tweaks; enlarged author artifact avatar","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3ey","title":"Investigate and flag root-level flywheel-visualization.tsx as duplicate of components/flywheel-visualization.tsx","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-02-09T17:40:44.751631913Z","created_by":"ubuntu","updated_at":"2026-02-09T17:42:09.599316953Z","closed_at":"2026-02-09T17:42:09.599290453Z","close_reason":"Confirmed: both flywheel-visualization.tsx (root) and components/flywheel-visualization.tsx are identical, and neither is imported anywhere. FlywheelVisualization component is dead code - the site uses FrankenFlywheel and TldrSynergyDiagram instead. Cannot delete per AGENTS.md Rule #1 - needs user permission.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3o2","title":"Dramatic visual overhaul of FrankenFlywheel - multi-color palette with plasma blue, blood red, violet, amber per tool category","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-09T18:33:01.712808749Z","created_by":"ubuntu","updated_at":"2026-02-09T18:37:57.129968808Z","closed_at":"2026-02-09T18:37:57.129936798Z","close_reason":"Complete visual overhaul: 14 unique accent colors (plasma blue, blood red, violet, amber, cyan, fuchsia, etc.), multi-color neural fragments, tool-colored lightning arcs, dynamic core reactor, per-tool detail panel theming, colored CTA buttons, and spectrum containment header. Also deleted both dead flywheel-visualization.tsx files and updated content.ts tool gradients.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3tc","title":"Fix 22 ESLint warnings (unused imports/vars) across 7 files","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-02-09T17:33:49.389124190Z","created_by":"ubuntu","updated_at":"2026-02-09T17:39:23.651355312Z","closed_at":"2026-02-09T17:39:23.651332369Z","close_reason":"Fixed all 22 ESLint warnings: removed unused imports in franken-flywheel/spec-evolution-lab/test files, fixed ref cleanup in beads-view, removed unused variables in spec-evolution-compare and test files","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-g8p","title":"Fix remaining ESLint warnings (decoding-text deps, spec-evolution-compare unused var)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-10T05:09:03.649567855Z","created_by":"ubuntu","updated_at":"2026-02-10T05:10:53.307814273Z","closed_at":"2026-02-10T05:10:53.307796259Z","close_reason":"Fix exhaustive-deps warning in decoding-text and remove unused var in spec-evolution-compare; bun lint now clean","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-hre","title":"Homepage: update author note copy","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T03:26:41.683895363Z","created_by":"ubuntu","updated_at":"2026-02-10T03:26:47.517256998Z","closed_at":"2026-02-10T03:26:47.517237261Z","close_reason":"Update homepage author note copy","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-ldw","title":"Fix 14 ESLint errors across 4 components (franken-flywheel, custom-cursor, decoding-text, motion-wrapper)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-09T17:33:48.431243422Z","created_by":"ubuntu","updated_at":"2026-02-09T17:37:12.818850773Z","closed_at":"2026-02-09T17:37:12.818831808Z","close_reason":"Fixed all 14 ESLint errors: replaced any types with proper types in franken-flywheel/custom-cursor, replaced Math.random with seeded PRNG in NeuralFragments, moved setState from effects to event handlers/derived state in decoding-text/franken-flywheel, used useSyncExternalStore for Portal in motion-wrapper","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-ty6","title":"Epic: Integrate WASM Showcase Demo at frankentui.com/web","description":"GOAL: Serve the FrankenTUI interactive WASM showcase demo (currently at frankentui-showcase-demo.pages.dev) at frankentui.com/web. This is the live, interactive, WebGPU-powered terminal demo that renders a full TUI app (FrankenTUI) in the browser via WASM+Canvas at 60fps. The demo is ~18MB total: 2 WASM binaries (384KB FrankenTerm terminal renderer + 2.8MB ftui_showcase_wasm demo runner), JS glue (103KB), a custom font (Pragmasevka NF, 18KB), and 2 large text assets (shakespeare.txt 5.4MB, sqlite3.c 8.8MB used by specific demo screens). All assets live in /dp/frankentui/dist/ as a self-contained static site built by build-wasm.sh. The dist/index.html uses all-relative paths (./pkg/, ./fonts/, ./assets/) so placing the whole tree under public/web/ means Next.js serves it with zero path rewriting needed for internal references. KEY REQUIREMENT: Improvements to /dp/frankentui/ (new WASM builds, HTML changes) must flow automatically to frankentui.com deployments via a sync script + CI pipeline. APPROACH: (1) sync script copies /dp/frankentui/dist/ to website public/web/, (2) Next.js rewrite maps /web to the static index.html, (3) CI/CD triggers Vercel redeploy when frankentui WASM changes. The demo runs full-viewport with no Next.js chrome — it owns the entire page (full screen canvas, keyboard capture, custom zoom). The React widget version (embedding in normal pages) is tracked as a separate Epic.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-11T02:57:18.150485907Z","created_by":"ubuntu","updated_at":"2026-02-11T02:57:18.150485907Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-ty6.1","title":"Create sync-showcase.sh script to copy WASM artifacts from frankentui to website","description":"Create scripts/sync-showcase.sh that copies the built WASM showcase demo artifacts from /dp/frankentui/dist/ into this website's public/web/ directory. The script must: (1) Validate that /dp/frankentui/dist/ exists and contains expected files (index.html, pkg/, fonts/, assets/). (2) Create public/web/ if it doesn't exist. (3) Use rsync --delete to mirror the entire dist/ tree, ensuring removed files upstream are also removed here. (4) Print a summary of what was synced (file count, total size, timestamp). (5) Optionally accept a source path argument to override the default /dp/frankentui/dist/ for flexibility. (6) Be idempotent — safe to run multiple times. (7) Include a --dry-run flag. IMPORTANT CONTEXT: The dist/ directory is produced by /dp/frankentui/build-wasm.sh which runs wasm-pack on two crates (frankenterm-web and ftui-showcase-wasm), then copies fonts and text assets into a flat dist/ structure. The dist/index.html is a modified version of frankentui_showcase_demo.html with paths adjusted for the flat structure (e.g. ./crates/ftui-demo-showcase/data/shakespeare.txt becomes ./assets/shakespeare.txt). FILES TO SYNC: dist/index.html (15KB, the standalone HTML page), dist/pkg/ (WASM binaries + JS glue, ~3.4MB), dist/fonts/ (Pragmasevka NF woff2, 18KB), dist/assets/ (shakespeare.txt 5.4MB + sqlite3.c 8.8MB). Total ~18MB. WHY rsync: We want exact mirroring so if upstream removes a file or changes binary content, the website reflects it immediately. WHY a script (not just cp): We want validation, logging, dry-run capability, and a single documented entry point that future agents or CI can call.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T02:57:32.830741014Z","created_by":"ubuntu","updated_at":"2026-02-11T02:57:32.830741014Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.1","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:57:32.830741014Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.10","title":"Add WebGPU fallback / browser compatibility messaging","description":"The WASM showcase demo requires WebGPU, which is not available in all browsers. Currently the demo shows a raw error overlay when WebGPU is unavailable. Improve the user experience for visitors on unsupported browsers. CURRENT STATE: The error overlay shows: 'FrankenTermWeb.init() failed: [error message]. WebGPU may not be supported in this browser.' — this is technically correct but not user-friendly. IMPROVEMENTS NEEDED: (1) Detect WebGPU availability BEFORE attempting to load WASM (check navigator.gpu). (2) If unavailable, show a polished fallback page that: (a) Explains what they're missing ('This is a live FrankenTUI demo that runs in your browser'). (b) Lists supported browsers ('Works in Chrome 113+, Edge 113+, Opera 99+. Coming to Firefox and Safari.'). (c) Shows a screenshot or video of the demo as a preview. (d) Links to the Cloudflare Pages fallback (frankentui-showcase-demo.pages.dev) which might work. (e) Links back to the main site (frankentui.com). (3) Keep the current error overlay for unexpected failures (WASM load errors, GPU init failures). WHERE TO IMPLEMENT: This should be done in the source HTML (/dp/frankentui/frankentui_showcase_demo.html) so it works both on the Cloudflare Pages deployment AND on frankentui.com/web. Then re-sync.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T02:59:47.924869261Z","created_by":"ubuntu","updated_at":"2026-02-11T02:59:47.924869261Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.10","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:59:47.924869261Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.10","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T02:59:47.924869261Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.11","title":"Comprehensive E2E test suite for /web WASM demo with structured logging","description":"Create a thorough Playwright E2E test suite for the /web WASM demo route. FILE: tests/web-demo.spec.ts. This is NOT a minimal smoke test — it must comprehensively verify the full user experience with structured diagnostic logging at every step. TEST CATEGORIES: (A) PAGE LOAD TESTS: (1) GET /web returns 200. (2) HTML contains expected elements (canvas, status, error-overlay, loading-overlay). (3) Loading overlay appears and shows progress. (4) Loading overlay hides within 10s timeout (WASM loaded). (5) Canvas has non-zero dimensions. (6) Status text shows 'NxM — running' pattern. (7) No JavaScript console errors (capture with page.on('console')). (8) No failed network requests (capture with page.on('requestfailed')). (B) ASSET LOADING TESTS: (9) All expected assets load successfully: /web/pkg/FrankenTerm.js, /web/pkg/FrankenTerm_bg.wasm, /web/pkg/ftui_showcase_wasm.js, /web/pkg/ftui_showcase_wasm_bg.wasm, /web/fonts/pragmasevka-nf-subset.woff2, /web/assets/shakespeare.txt, /web/assets/sqlite3.c. (10) WASM files served with correct Content-Type: application/wasm. (11) Font served with correct Content-Type. (12) Assets have expected cache headers. (C) BROWSER COMPAT TESTS: (13) Test in Chromium (WebGPU available): full demo should render. (14) Test in Firefox/WebKit: error overlay should appear with helpful message about browser support. (D) RESPONSIVE TESTS: (15) Resize viewport: status text should update with new dimensions. (16) Very small viewport: verify no crash. (E) PERFORMANCE TESTS: (17) Time from navigation to 'running' status should be under 15s. (18) Page weight verification: total transferred bytes logged. LOGGING: Every test step should log with timestamps: console.log('[web-demo-test] step: description, elapsed: Xms, result: pass/fail'). Use test.info().annotations for structured metadata. On failure, capture: screenshot, console logs, network waterfall. Create a custom reporter or use test.step() for granular timing.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T03:01:55.228114011Z","created_by":"ubuntu","updated_at":"2026-02-11T03:05:36.654688255Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.11","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T03:01:55.228114011Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.11","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T03:01:55.228114011Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.12","title":"Add 'Try Live Demo' CTAs on showcase, architecture, and getting-started pages","description":"Add contextual call-to-action links to /web on secondary pages (NOT the homepage — that's handled by Epic bd-2b4's hero redesign). Each CTA should feel natural in context, not bolted on. PAGES TO UPDATE: (1) SHOWCASE (app/showcase/page.tsx): After the screenshot gallery, add a section: 'Screenshots are nice, but why not try it yourself?' with a large CTA button. This is the most natural fit — the user just saw static images and now can interact live. (2) ARCHITECTURE (app/architecture/page.tsx): After the pipeline visualization or algorithm cards, add: 'See these algorithms running live in your browser →'. Position it as proof that the architecture actually works — the demo IS the architecture running. (3) GETTING STARTED (app/getting-started/page.tsx): At the very top, before the cargo install instructions: 'Not ready to install? Try FrankenTUI in your browser first — no setup required →'. This is a powerful conversion path: zero-friction experience before committing to cargo install. (4) HOW IT WAS BUILT (app/how-it-was-built/page.tsx): After the build story: 'See the result — try the live demo →'. STYLE: Use a consistent CTA component. Green accent button, rounded, with a Play or ExternalLink icon. Include a small 'Requires Chrome/Edge (WebGPU)' note in subtle text below the button. Consider adding a visual flourish — FrankenBolt on either side, or a subtle glow animation.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-11T03:02:06.741505341Z","created_by":"ubuntu","updated_at":"2026-02-11T03:08:16.795760243Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.12","depends_on_id":"bd-2b4","type":"blocks","created_at":"2026-02-11T03:08:16.795699649Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.12","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T03:02:06.741505341Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.12","depends_on_id":"bd-ty6.5","type":"blocks","created_at":"2026-02-11T03:02:06.741505341Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.13","title":"Unit tests for sync-showcase.sh with validation and edge cases","description":"Create tests/sync-showcase.test.sh (or tests/sync-showcase.spec.ts using Bun shell) — unit/integration tests for the sync-showcase.sh script. WHAT TO TEST: (1) HAPPY PATH: Run sync from a valid dist/ directory. Verify all files are copied. Verify file counts and sizes match source. Verify version.json is generated correctly. (2) MISSING SOURCE: Run sync when source directory doesn't exist. Verify meaningful error message and non-zero exit. (3) MISSING FILES: Run sync when dist/ exists but is missing expected files (e.g. no pkg/). Verify validation catches it. (4) DRY RUN: Run with --dry-run flag. Verify no files are actually copied. Verify output shows what WOULD be copied. (5) CUSTOM SOURCE PATH: Run with explicit source path argument. Verify it uses the custom path. (6) IDEMPOTENCY: Run sync twice. Verify second run succeeds and produces identical results. (7) DELTA SYNC: Modify one file in source after initial sync. Re-run. Verify only the changed file is updated (rsync behavior). (8) DELETE PROPAGATION: Remove a file from source. Re-run sync with --delete. Verify it's removed from destination too. (9) PERMISSIONS: Verify synced files have correct permissions (readable). LOGGING REQUIREMENTS: Every test should log: test name, setup steps, command executed, exit code, stdout/stderr, and pass/fail verdict. Use structured output so CI or agents can parse results. IMPLEMENTATION CHOICE: Either a bash test script using assert functions, or a Playwright/Bun test file that shells out to the script. Bun's shell support (Bun.spawn) makes this easy to write in TypeScript.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:05:52.626981811Z","created_by":"ubuntu","updated_at":"2026-02-11T03:05:52.626981811Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.13","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T03:05:52.626981811Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.13","depends_on_id":"bd-ty6.1","type":"blocks","created_at":"2026-02-11T03:05:52.626981811Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.14","title":"E2E test for update-web-demo.sh workflow (end-to-end sync verification)","description":"Create tests/update-web-demo.spec.ts — an integration test that verifies the full update workflow from build to deploy-readiness. This test runs the update-web-demo.sh script (with --no-push to avoid actual deployment) and verifies every step. WHAT TO TEST: (1) Script runs successfully with --dry-run (no side effects). (2) Script runs with --no-push: (a) public/web/ directory is populated with all expected files. (b) version.json contains correct metadata (timestamp, file hashes, git SHA). (c) Git working tree shows the expected changes (new or modified files in public/web/). (3) File integrity: sha256 checksums of synced WASM files match source dist/. (4) HTML file contains expected ASSET_VERSION string. (5) Script with --skip-build skips the WASM compilation step. (6) Script errors gracefully when frankentui repo is not at expected path. (7) Timing: log elapsed time for each phase (build, sync, manifest, commit). PREREQUISITES: Requires /dp/frankentui/dist/ to exist with built artifacts. If not available, test should skip with a clear message. LOGGING: Structured JSON output for each test step: { step, elapsed_ms, status, details }. This test is slow (touches filesystem, runs scripts) so use test.slow() annotation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T03:06:34.374562476Z","created_by":"ubuntu","updated_at":"2026-02-11T03:06:34.374562476Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.14","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T03:06:34.374562476Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.14","depends_on_id":"bd-ty6.9","type":"blocks","created_at":"2026-02-11T03:06:34.374562476Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.2","title":"Configure public/web/ directory structure and .gitignore rules for WASM assets","description":"Set up the public/web/ directory in the website repo to receive synced WASM showcase artifacts. DECISION NEEDED: Should the ~18MB of WASM/text assets be committed to git or gitignored? ANALYSIS: The largest files are shakespeare.txt (5.4MB) and sqlite3.c (8.8MB) — these are plain text and compress very well with git (probably ~2-3MB in packfiles). The WASM binaries are 384KB + 2.8MB. Total uncompressed ~18MB, git-compressed probably ~5-6MB. This is well within GitHub's limits (100MB per file, no hard repo size limit though >1GB gets warnings). RECOMMENDATION: Commit everything. Rationale: (a) Vercel builds need the files present in the repo (no local filesystem access). (b) The compressed git overhead is modest (~5-6MB). (c) Keeping them in git means the sync-and-commit workflow is trivial: run sync script, git add public/web/, git commit, push, Vercel auto-deploys. (d) Git LFS is overkill for this size and adds deployment complexity. DIRECTORY STRUCTURE after sync: public/web/index.html (standalone HTML page), public/web/pkg/ (FrankenTerm.js, FrankenTerm_bg.wasm, ftui_showcase_wasm.js, ftui_showcase_wasm_bg.wasm, type defs), public/web/fonts/ (pragmasevka-nf-subset.woff2), public/web/assets/ (shakespeare.txt, sqlite3.c). ALSO: Add public/web/_headers (Cloudflare-style, currently in dist/ — but Vercel ignores this; we'll handle caching via Next.js config or Vercel headers). DO NOT add public/web/ to .gitignore — these files must be committed for Vercel deployment.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T02:57:49.224737717Z","created_by":"ubuntu","updated_at":"2026-02-11T02:57:49.224737717Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.2","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:57:49.224737717Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.3","title":"Add Next.js rewrite and static asset config for /web route","description":"Configure Next.js to serve the WASM showcase demo at frankentui.com/web. TWO THINGS NEEDED: (1) REWRITE RULE: Next.js does not automatically serve public/web/index.html when a user visits /web (it only serves /web/index.html literally). Add a rewrite in next.config.ts: { source: '/web', destination: '/web/index.html' }. This makes /web load the standalone HTML page. The page's internal relative references (./pkg/, ./fonts/, ./assets/) resolve correctly because the browser sees the URL as /web and resolves relative to /web/. (2) WASM MIME TYPES: Verify that Next.js/Vercel serves .wasm files with the correct Content-Type: application/wasm. Without this, WebAssembly.compile() may fail or trigger warnings. Next.js typically handles this correctly for files in public/, but we should verify. Also ensure .woff2 files get font/woff2. ALSO CONSIDER: (a) Vercel headers config (vercel.json or next.config.ts headers) for caching: WASM and font files should get long Cache-Control (immutable, max-age=31536000) since they're versioned by content hash. The text assets (shakespeare/sqlite) can also be aggressively cached. (b) The HTML page uses its own ASSET_VERSION query parameter for cache-busting, so aggressive caching is safe. (c) Do NOT add CORS headers unless needed — same-origin is fine since everything is under frankentui.com. MODIFICATION TARGET: next.config.ts (add rewrites() and headers() functions). Keep the existing config (images, compress, poweredByHeader, reactStrictMode) intact.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T02:58:11.712366303Z","created_by":"ubuntu","updated_at":"2026-02-11T03:04:44.685082183Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.3","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:58:11.712366303Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.4","title":"Run initial sync, verify demo works at localhost:3000/web","description":"Execute the sync-showcase.sh script for the first time and verify the demo works correctly in the local Next.js dev server. VERIFICATION STEPS: (1) Run scripts/sync-showcase.sh and confirm it completes without errors, reports correct file counts and sizes. (2) Start dev server with 'bun dev'. (3) Navigate to http://localhost:3000/web — should see the loading overlay, then the WASM terminal demo. (4) Verify: loading bar shows progress, WebGPU initializes, terminal renders, keyboard input works (arrow keys, Tab to cycle screens, number keys to jump to screens). (5) Verify resize handling: changing browser window size should reflow the terminal grid. (6) Verify text assets load: screens that use shakespeare.txt and sqlite3.c data should display content. (7) Check browser console for errors — should see no 404s, no MIME type warnings, no WASM compilation errors. (8) Test Ctrl+/- zoom functionality. (9) Verify the status bar in bottom-right shows dimensions and 'running'. KNOWN ISSUE: WebGPU may not be available in all browsers. The demo falls back gracefully with an error overlay message. Test in Chrome/Edge (WebGPU support) and verify the error message appears in Firefox/Safari (partial support). ALSO: Test that the rest of the Next.js site still works — navigating from /web back to the main site should work via browser back button. The /web page is a standalone HTML page, not a Next.js route, so it won't have the site header/footer. This is intentional.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T02:58:26.709353797Z","created_by":"ubuntu","updated_at":"2026-02-11T03:04:48.550201329Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.4","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:58:26.709353797Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.4","depends_on_id":"bd-ty6.1","type":"blocks","created_at":"2026-02-11T02:58:26.709353797Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.4","depends_on_id":"bd-ty6.2","type":"blocks","created_at":"2026-02-11T03:04:48.550148570Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.4","depends_on_id":"bd-ty6.3","type":"blocks","created_at":"2026-02-11T02:58:26.709353797Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.5","title":"Add /web (Live Demo) link to site navigation","description":"Add a 'Live Demo' or 'Try It' navigation entry that links to /web. WHAT TO MODIFY: (1) lib/content.ts — add to the navItems array. The current nav has: Home, Showcase, Architecture, War Stories(?), Built in 5 Days, Glossary, Getting Started. Add 'Live Demo' (or 'Web Demo' or 'Try It') — needs a good label that communicates this is an interactive WASM experience, not just a page of screenshots. Suggested position: early in the nav (after Home or Showcase) since it's the most impressive demo. (2) components/site-header.tsx — the nav is driven by navItems, so it should auto-update. Verify it renders correctly on both desktop and mobile. NAMING CONSIDERATION: The route is /web because the demo shows FrankenTUI running in a web browser (vs native terminal). 'Live Demo' is probably the clearest label. 'Web Demo' is more specific. 'Try It' is action-oriented. Recommend 'Live Demo'. ALSO: Add appropriate icon to the navItem if the nav uses icons. The showcase demo is a terminal, so Terminal or Monitor icon from lucide-react would work. NOTE: The /web page is a standalone HTML page outside the Next.js router. Clicking the nav link navigates away from the SPA. This is fine — it's a full-page experience. Consider adding target='_self' (default) or even keeping it in-tab since users will want to come back via browser back.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T02:58:40.606615588Z","created_by":"ubuntu","updated_at":"2026-02-11T02:58:40.606615588Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.5","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:58:40.606615588Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.5","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T02:58:40.606615588Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.6","title":"Create OG/Twitter share image for /web route","description":"Create app/web/opengraph-image.tsx to generate a social share card for frankentui.com/web. This is important because when someone shares the live demo URL on Twitter/Discord/Slack, they should see an appealing preview card that communicates 'this is a live interactive terminal demo in your browser'. IMPLEMENTATION: Follow the same pattern as existing OG image routes (e.g., app/opengraph-image.tsx, app/architecture/opengraph-image.tsx). Key constraints from MEMORY.md: (a) Satori does NOT support WebP — must use PNG backgrounds. (b) No <br /> tags — use separate spans. (c) No borderRadius: 'full' — use '9999px'. (d) Every element needs display: 'flex'. Use one of the existing *_og.png background images from public/screenshots/ or create a new one if a terminal screenshot looks better. The image should convey: FrankenTUI running live in a browser, WebGPU-powered, interactive. TEXT SUGGESTIONS: Title 'FrankenTUI Live Demo', subtitle 'Interactive WASM terminal — runs in your browser', with the FrankenTUI branding. Size: 1200x630 PNG. GOTCHA: The /web route is a static HTML page, not a Next.js page. Next.js OG image generation requires a route handler inside app/. We may need to create app/web/ as a route group or use app/(web)/opengraph-image.tsx. Actually, since /web is rewritten to a static file, we need to figure out where the OG image route lives. One approach: create app/web/opengraph-image.tsx and DON'T create app/web/page.tsx — the rewrite handles the page, and Next.js serves the OG image at /web/opengraph-image. But test this — there may be a conflict between the rewrite and the OG route. Alternative: Add OG meta tags directly in the dist/index.html pointing to a pre-generated PNG at /web/og.png.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T02:58:56.754000178Z","created_by":"ubuntu","updated_at":"2026-02-11T02:58:56.754000178Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.6","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:58:56.754000178Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.6","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T02:58:56.754000178Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.7","title":"Add meta tags (OG, title, description) to the showcase demo HTML","description":"The dist/index.html (which becomes public/web/index.html) currently has a minimal <head> with just charset, viewport, and title. It needs proper meta tags for social sharing and SEO since it will be served at frankentui.com/web. ADD TO THE HTML HEAD: (1) <meta name='description' content='Interactive FrankenTUI demo running in your browser via WebAssembly and WebGPU. Full terminal UI at 60fps.'> (2) <meta property='og:title' content='FrankenTUI — Live Web Demo'> (3) <meta property='og:description' content='...'> (4) <meta property='og:image' content='https://frankentui.com/web/og.png'> (pointing to the pre-generated OG image) (5) <meta property='og:url' content='https://frankentui.com/web'> (6) <meta name='twitter:card' content='summary_large_image'> (7) <link rel='canonical' href='https://frankentui.com/web'> (8) <link rel='icon' href='/images/franken-favicon.webp'> (use the same favicon as the main site). IMPORTANT: This change must be made in the SOURCE HTML at /dp/frankentui/frankentui_showcase_demo.html (or in the dist generation pipeline), NOT just in public/web/index.html, because the sync script would overwrite local-only changes. The dist/index.html is a derivative of the source HTML — either modify the source to include these tags, or have build-wasm.sh inject them. PREFERRED APPROACH: Modify the source HTML in the frankentui repo, rebuild, and re-sync. The meta tags are universal and useful regardless of where the demo is hosted.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T02:59:09.241784400Z","created_by":"ubuntu","updated_at":"2026-02-11T02:59:09.241784400Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.7","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:59:09.241784400Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.7","depends_on_id":"bd-ty6.6","type":"blocks","created_at":"2026-02-11T02:59:09.241784400Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.8","title":"Create version manifest to track synced WASM build provenance","description":"Create a small JSON manifest file (public/web/version.json) that records the provenance of the synced WASM build. The sync-showcase.sh script should generate this automatically. CONTENTS: { 'synced_at': ISO-8601 timestamp, 'source_dir': path to source dist/, 'asset_version': the ASSET_VERSION constant from the HTML (e.g. '2026-02-10.7'), 'files': { filename: { size_bytes, sha256 } for each synced file }, 'frankentui_git_sha': git rev-parse HEAD from the frankentui repo (if available) }. PURPOSE: (1) Debug aid — when a deployment has issues, check which exact WASM build is deployed. (2) Cache-busting validation — the ASSET_VERSION in the HTML should match what was built. (3) CI/CD integration — a GitHub Action can read this to decide if a re-sync is needed (compare git SHAs). (4) Audit trail — know exactly when the last sync happened. The manifest itself is tiny (<1KB) and should be committed alongside the synced assets. It can also be fetched at /web/version.json for programmatic checks.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T02:59:20.244134242Z","created_by":"ubuntu","updated_at":"2026-02-11T02:59:20.244134242Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.8","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:59:20.244134242Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.8","depends_on_id":"bd-ty6.1","type":"blocks","created_at":"2026-02-11T02:59:20.244134242Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ty6.9","title":"Create end-to-end update workflow script (build + sync + commit + deploy)","description":"Create scripts/update-web-demo.sh — a single-command workflow that builds WASM in the frankentui repo, syncs to the website, commits, and triggers Vercel deployment. IMPORTANT: GitHub Actions are NOT available (account restricted for overuse). All automation must be local-only. WORKFLOW STEPS: (1) cd to frankentui repo, run build-wasm.sh (compiles Rust to WASM). (2) Run sync-showcase.sh to copy dist/ to website's public/web/. (3) Run version manifest generation (from bd-ty6.8). (4) In website repo: git add public/web/, git commit -m 'chore(web): sync WASM showcase [SHA]'. (5) git push to trigger Vercel auto-deploy (Vercel watches the main branch). (6) Optionally: use Vercel CLI 'vercel --prod' for immediate deploy without waiting for git push hook. ALTERNATIVE TRIGGER MECHANISMS (no GH Actions needed): (a) Vercel Deploy Hooks — create a webhook URL in Vercel dashboard, curl it to trigger rebuild. (b) Vercel CLI — 'vercel deploy --prod' directly from local. (c) Git push — simplest, Vercel auto-deploys on push to main. SCRIPT REQUIREMENTS: (1) Accept --dry-run flag (show what would happen). (2) Accept --skip-build flag (if WASM was already built, just sync). (3) Accept --no-push flag (commit locally but don't push). (4) Validate both repos exist and are clean (no uncommitted changes). (5) Print timing for each step. (6) Exit with meaningful error codes. (7) Log everything to stdout with timestamps. WHY A SINGLE SCRIPT: The manual workflow of 'build WASM, sync, commit, push' is 4-5 separate commands that must be run in order. A single script eliminates human error and ensures nothing is forgotten (like the version manifest). Running it should be as simple as: ./scripts/update-web-demo.sh","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T02:59:35.992860497Z","created_by":"ubuntu","updated_at":"2026-02-11T03:05:16.457568555Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ty6.9","depends_on_id":"bd-ty6","type":"parent-child","created_at":"2026-02-11T02:59:35.992860497Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.9","depends_on_id":"bd-ty6.4","type":"blocks","created_at":"2026-02-11T02:59:35.992860497Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ty6.9","depends_on_id":"bd-ty6.8","type":"blocks","created_at":"2026-02-11T02:59:35.992860497Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-w0x","title":"Extirpate War Stories: remove Battle Scars section + prune warStories content","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:01:23.581887666Z","created_by":"ubuntu","updated_at":"2026-02-10T05:07:04.674219848Z","closed_at":"2026-02-10T05:07:04.674196154Z","close_reason":"Remove Battle Scars section, delete warStories datasets from content, and scrub War Stories references (without deleting files)","source_repo":".","compaction_level":0,"original_size":0}
